<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Card Access Error</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-light d-flex justify-content-center align-items-center" style="height:100vh;">
    <div class="card shadow-lg p-4 text-center" style="max-width: 450px; border-radius: 20px;">
        <div class="mb-3">
            <h2 class="text-warning">⚠️ Card Access Error</h2>
        </div>
        <p id="error-message" class="text-secondary">We couldn’t load your digital card. Something went wrong. Please try again.</p>
        <a href="card.html" class="btn btn-primary mt-3">Go Back</a>
    </div>

    <script>
        // Get the query param
        const urlParams = new URLSearchParams(window.location.search);
        const reason = urlParams.get('reason');

        const errorMessage = document.getElementById('error-message');

        // Customize messages based on reason
        switch (reason) {
            case 'no-session':
                errorMessage.textContent = "No session ID provided in the URL. Please use the proper card link or scan the QR code.";
                break;
            case 'fetch-failed':
                errorMessage.textContent = "Failed to fetch the card from the server. Make sure the backend is running and the session ID is correct.";
                break;
            case 'expired':
                errorMessage.textContent = "This card has expired. Contact hotel staff for renewal or a new card.";
                break;
            default:
                // If unknown reason, show generic message
                errorMessage.textContent = "We couldn’t load your digital card. Something went wrong. Please try again.";
                break;
        }
    </script>

    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>
